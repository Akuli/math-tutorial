<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="style.css">
<title>Fibonacci Sequence</title>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
    },
    "HTML-CSS": { availableFonts: ["TeX"] },
    TeX: {
      Macros: {
        // awesome, i have latex inside javascript inside html inside python
        // https://xkcd.com/1638/
        red: [ "\\color{red}{#1}", 1 ],
        blue: [ "\\color{blue}{#1}", 1 ],
        green: [ "\\color{green}{#1}", 1 ],
        maroon: [ "\\color{maroon}{#1}", 1 ],
        olive: [ "\\color{olive}{#1}", 1 ],
        purple: [ "\\color{purple}{#1}", 1 ],
        black: [ "\\color{black}{#1}", 1 ],
        rcancel: [ "\\require{cancel}\\red{\\cancel{\\black{#1}}}", 1 ]
      }
    }
  });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="https://fonts.googleapis.com/css?family=Cabin|Quicksand" rel="stylesheet">
</head>
<body>
<div id="content">
<div id="sidebar"><div class="sidebarblock"><h3>Interesting for programmers</h3><ul><li><a href="infinity.html">Infinity</a></li><li><a href="numbertheory.html">Number Theory</a></li><li><b>Fibonacci Sequence</b></li><li><a href="derivatives.html">Derivatives</a></li><li><a href="geometry-and-trig.html">Geometry and Trig</a></li><li><a href="physics.html">Physics Stuff</a></li></ul></div><div class="sidebarblock"><h3>Kinda fun</h3><ul><li><a href="integrals.html">Integrals</a></li><li><a href="more-integrals.html">More Integrals</a></li></ul></div><div class="sidebarblock"><h3>Mathy</h3><ul><li><a href="more-derivatives.html">More Derivatives</a></li><li><a href="more-geometry-and-trig.html">More Geometry and Trig</a></li><li><a href="explog.html">Exponent Functions and Logarithms</a></li></ul></div><div class="sidebarblock"><h3>Mind-blowing</h3><ul><li><a href="taylor.html">Taylor Series</a></li><li><a href="eulerformula.html">Euler's Formula</a></li></ul></div><div class="sidebarblock"><h3>Other stuff</h3><ul><li><a href="basics.html">The Basics</a></li><li><a href="graphs.html">Graphs</a></li><li><a href="summary.html">Summary</a></li></ul><h3><a href="index.html">Back to front page</a></h3></div></div>
<h1 id="fibonacci-sequence">Fibonacci Sequence<a class="headerlink" href="#fibonacci-sequence" title="Link to this title">¶</a></h1><p>Here's a very famous sequence of numbers, known as the Fibonacci sequence:</p>

$$\begin{align}1, 1, 2, 3, 5, 8, 13, 21, ...\end{align}$$<p>We start with $1, 1$ and then we add together the last two numbers to get the
next one: $1+1=2$, $1+2=3$, $2+3=5$, $3+5=8$ and so on.</p>

<p>Here's a simple Python function that calculates the $n$'th Fibonacci number,
e.g. <code>fib(1) == 1</code>, <code>fib(2) == 1</code>, <code>fib(3) == 2</code> and so on:</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">fib</span>(n):
    <span style="color: #007020; font-weight: bold">if</span> n <span style="color: #666666">&lt;=</span> <span style="color: #40a070">2</span>:      <span style="color: #60a0b0; font-style: italic"># fib(1) == 1, fib(2) == 1</span>
        <span style="color: #007020; font-weight: bold">return</span> <span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">return</span> fib(n<span style="color: #666666">-</span><span style="color: #40a070">1</span>) <span style="color: #666666">+</span> fib(n<span style="color: #666666">-</span><span style="color: #40a070">2</span>)
</pre></div>
<p>The last line calculates two previous Fibonacci numbers and adds them together.
The code works just fine, but something like <code>fib(40)</code> really takes a while.
That's one reason why the Fibonacci sequence is not only a well-known thing
among mathematicians, but also programmers.</p>

<p>Mathematically we could define the Fibonacci sequence $F_n$ like this:</p>

$$\begin{align}\left\{\begin{array}{lcl}      F_1 = 1 \\
    F_2 = 1 \\
    F_n = F_{n-1} + F_{n-2}, \quad n = 3,4,5,... \\
\end{array}\right.\end{align}$$<p>But we can actually create a formula like $F_n = \text{blablabla}$ for any
$n=1,2,3,...$ without using $F_{n-1}$ or $F_{n-2}$ in the formula. A <code>fib</code>
function implemented with that formula will be way faster than the <code>fib</code>
function above.</p>

<h2 id="golden-ratio">Golden Ratio<a class="headerlink" href="#golden-ratio" title="Link to this title">¶</a></h2><p>Let's start with a simpler problem. We'll try to find <i>any</i> sequence $a_n$ where
$n = 1,2,3,...$ so that $a_n + a_{n+1} = a_{n+2}$. A simple sequence would be
$a_n = 0$ because $0 + 0 = 0$, but that's not really interesting so we need to
try something else.</p>

<p>Turns out that finding sequences like $a_n = x^n$ for some number $x$ works
nicely.</p>

$$\begin{align}x^n + x^{n+1} &= x^{n+2}\end{align}$$<p>This is true if $x=0$, so we have already found 1 solution. Let's find other
solutions by dividing both sides by $x^n$. We can do that because $x \ne 0$, so
we also have $x^n \ne 0$.</p>

$$\begin{align}\frac{x^n}{x^n} + \frac{x^{n+1}}{x^n} &= \frac{x^{n+2}}{x^n} \\
1 + x &= x^2 \\
0 &= x^2 - x - 1\end{align}$$<p>Next we need to use this formula taken from <a href="summary.html#completing-the-square">the summary
page</a>:</p>

$$\begin{align}ax^2+bx+c = a\left(x + \frac{b}{2a}\right)^2 + c - \frac{b^2}{4a}\end{align}$$<p>Let's plug in $a=1$, $b=-1$ and $c=-1$.</p>

$$\begin{align}x^2-x-1 &= 0 \\
1\left(x + \frac{-1}{2\cdot1}\right)^2 + (-1) - \frac{(-1)^2}{4\cdot1} &= 0 \\
\left(x - \frac 1 2\right)^2 - 1 - \frac 1 4 &= 0 \\
\left(x - \frac 1 2\right)^2 &= 1 + \frac 1 4 = \frac 4 4 + \frac 1 4 = \frac 5 4 \\
\sqrt{\left(x - \frac 1 2\right)^2} &= \sqrt{\frac 5 4} \\
\left|x - \frac 1 2\right| &= \frac{\sqrt 5}{\sqrt 4} = \frac{\sqrt 5}{2} \\
x - \frac 1 2 &= \pm \frac{\sqrt 5}{2} \\
x &= \frac 1 2 \pm \frac{\sqrt 5}{2} = \frac{1 \pm \sqrt 5}{2}\end{align}$$<p>Here $\pm$ means $+$ or $-$, and I'm using it just to prevent annoying
repetition. We need the absolute value bars because we applied a square root on
both sides and we ended up with a $\sqrt{x^2} = |x|$ situation on the left side
(see <a href="basics.html#square-negative-cancel">the basics page</a>). So now we have
three solutions: $x=0$, $x=\frac{1+\sqrt 5}{2}$ and $x=\frac{1-\sqrt 5}{2}$.</p>

<p>The positive solution $\frac{1 + \sqrt 5}{2}$ is known as <a href="https://en.wikipedia.org/wiki/Golden_ratio">the golden
ratio</a>, and it occurs in many
other places as well. It's usually denoted with the greek phi letter:</p>

$$\begin{align}\varphi = \frac{1+\sqrt 5}{2}\end{align}$$<p>Let's calculate approximate values of our solutions with Python:</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #007020; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">math</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>(<span style="color: #40a070">1</span> <span style="color: #666666">+</span> math<span style="color: #666666">.</span>sqrt(<span style="color: #40a070">5</span>))<span style="color: #666666">/</span><span style="color: #40a070">2</span>
<span style="color: #888888">1.618033988749895</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>(<span style="color: #40a070">1</span> <span style="color: #666666">-</span> math<span style="color: #666666">.</span>sqrt(<span style="color: #40a070">5</span>))<span style="color: #666666">/</span><span style="color: #40a070">2</span>
<span style="color: #888888">-0.6180339887498949</span>
</pre></div>
<p>Note how the same sequence of digits repeats. Let's find out what's going on:</p>

$$\begin{align}\frac{1-\sqrt 5}{2} &= \frac{2-1-\sqrt 5}{2} = \frac{2-(1+\sqrt 5)}{2} \\
                    &= \frac 2 2 - \frac{1+\sqrt 5}{2} = 1 - \varphi\end{align}$$<h2 id="the-formula">The Formula<a class="headerlink" href="#the-formula" title="Link to this title">¶</a></h2><p>If we have a sequence $a_n$ so that $a_n + a_{n+1} = a_{n+2}$, then we can
multiply both sides of the equation by any constant $A$ and we get
$A\ a_n + A\ a_{n+1} = A\ a_{n+2}$. So maybe the formula of the famous
$1,1,2,3,5,8,...$ sequence is of the form $A \varphi^n$? Let's try that.</p>

$$\begin{align}\left\{\begin{array}{lcl}      F_n = A \varphi^n \\
    F_1 = 1 \\
    F_2 = 1 \\
    F_n = F_{n-1} + F_{n-2} \\
\end{array}\right.\end{align}$$<p>I can already tell that this isn't going to work. $F_1 = 1$ means that
$A \varphi^1 = A \varphi = 1$ and $A = \frac 1 \varphi$, but $F_2 = 1$ means
that we also have $A \varphi^2 = 1$ and $A = \frac{1}{\varphi^2}$. It seems
that $\varphi=\varphi^2$, and that's not correct.</p>

<p>That didn't work, but that's just one of the solutions of our equation. Let's
make an educated guess with all solutions and three constants $A$, $B$ and $C$:</p>

$$\begin{align}F_n &= A \varphi^n + B (1-\varphi)^n + C \cdot 0 \\
F_n &= A \varphi^n + B (1-\varphi)^n\end{align}$$<p>As before, we also have the initial values $F_1 = 1$ and $F_2 = 1$.</p>

<p>This isn't difficult to calculate by hand, but it's quite tedious, so we'll use
<a href="http://www.sympy.org">sympy</a>:</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #007020; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">sympy</span> <span style="color: #007020; font-weight: bold">import</span> <span style="color: #666666">*</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>init_printing()
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>A,B,phi <span style="color: #666666">=</span> symbols(<span style="color: #4070a0">&#39;A B phi&#39;</span>)
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>A,B,phi
<span style="color: #888888">(A, B, φ)</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">fib</span>(n):
<span style="color: #c65d09; font-weight: bold">... </span>    <span style="color: #007020; font-weight: bold">return</span> A<span style="color: #666666">*</span>phi<span style="color: #666666">**</span>n <span style="color: #666666">+</span> B<span style="color: #666666">*</span>(<span style="color: #40a070">1</span><span style="color: #666666">-</span>phi)<span style="color: #666666">**</span>n
<span style="color: #c65d09; font-weight: bold">... </span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>solve([Eq(fib(<span style="color: #40a070">1</span>), <span style="color: #40a070">1</span>), Eq(fib(<span style="color: #40a070">2</span>), <span style="color: #40a070">1</span>)], A,B)
<span style="color: #888888">⎧      1          -1   ⎫</span>
<span style="color: #888888">⎨A: ───────, B: ───────⎬</span>
<span style="color: #888888">⎩   2⋅φ - 1     2⋅φ - 1⎭</span>
</pre></div>
<p>Note that I didn't plug in the actual value of $\varphi$; instead I'm using a
symbol called $\varphi$ so I can get the result in terms of $\varphi$.</p>

<p>We can't wait to try this out! Let's do it.</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>values <span style="color: #666666">=</span> solve([Eq(fib(<span style="color: #40a070">1</span>), <span style="color: #40a070">1</span>), Eq(fib(<span style="color: #40a070">2</span>), <span style="color: #40a070">1</span>)], A,B)
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>values[phi] <span style="color: #666666">=</span> (<span style="color: #40a070">1</span> <span style="color: #666666">+</span> sqrt(<span style="color: #40a070">5</span>))<span style="color: #666666">/</span><span style="color: #40a070">2</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>values
<span style="color: #888888">⎧      1          -1        1   √5⎫</span>
<span style="color: #888888">⎨A: ───────, B: ───────, φ: ─ + ──⎬</span>
<span style="color: #888888">⎩   2⋅φ - 1     2⋅φ - 1     2   2 ⎭</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">1</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">1</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">2</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">1</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">3</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">2</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">4</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">3</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">5</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">5</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">6</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">8</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>fib(<span style="color: #40a070">7</span>)<span style="color: #666666">.</span>subs(values)<span style="color: #666666">.</span>simplify()
<span style="color: #888888">13</span>
</pre></div>
<p>It works! I think this is really amazing.</p>

<p>Let's simplify the A and B values:</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>values[A]<span style="color: #666666">.</span>subs(phi, values[phi])<span style="color: #666666">.</span>simplify()
<span style="color: #888888">√5</span>
<span style="color: #888888">──</span>
<span style="color: #888888">5 </span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>values[B]<span style="color: #666666">.</span>subs(phi, values[phi])<span style="color: #666666">.</span>simplify()
<span style="color: #888888">-√5 </span>
<span style="color: #888888">────</span>
<span style="color: #888888"> 5  </span>
</pre></div>
<p>These can be also written as $\frac{1}{\sqrt 5}$ and $-\frac{1}{\sqrt 5}$
because $5 = (\sqrt 5\ )^2$, but sympy likes to put square roots to top for some
reason. Anyway, with this we can write a much cleaner formula:</p>

$$\begin{align}F_n &= A \varphi^n + B (1-\varphi)^n \\
&= \frac{1}{\sqrt 5} \varphi^n - \frac{1}{\sqrt 5} (1-\varphi)^n \\
&= \frac{\varphi^n - (1-\varphi)^n}{\sqrt 5} \\
&= \frac{\left(\frac{1 + \sqrt 5}{2}\right)^n - \left(\frac{1 - \sqrt 5}{2}\right)^n}{\sqrt 5}\end{align}$$<p>There it is! If you like code obfuscation, you can replace the constants with
hard-coded floats:</p>

<div class="highlight" style="background: #f0f0f0"><pre style="line-height: 125%"><span></span><span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #007020; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">math</span> <span style="color: #007020; font-weight: bold">import</span> sqrt
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>(<span style="color: #40a070">1</span> <span style="color: #666666">+</span> sqrt(<span style="color: #40a070">5</span>))<span style="color: #666666">/</span><span style="color: #40a070">2</span>
<span style="color: #888888">1.618033988749895</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>(<span style="color: #40a070">1</span> <span style="color: #666666">-</span> sqrt(<span style="color: #40a070">5</span>))<span style="color: #666666">/</span><span style="color: #40a070">2</span>
<span style="color: #888888">-0.6180339887498949</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>sqrt(<span style="color: #40a070">5</span>)
<span style="color: #888888">2.23606797749979</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">lelfib</span>(n): <span style="color: #007020; font-weight: bold">return</span> (<span style="color: #40a070">1.618033988749895</span><span style="color: #666666">**</span>n <span style="color: #666666">-</span> (<span style="color: #666666">-</span><span style="color: #40a070">0.6180339887498949</span>)<span style="color: #666666">**</span>n)<span style="color: #666666">/</span><span style="color: #40a070">2.23606797749979</span>
<span style="color: #c65d09; font-weight: bold">... </span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">1</span>)
<span style="color: #888888">1.0</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">2</span>)
<span style="color: #888888">1.0</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">3</span>)
<span style="color: #888888">2.0</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">4</span>)
<span style="color: #888888">3.0000000000000004</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">5</span>)
<span style="color: #888888">5.000000000000001</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">6</span>)
<span style="color: #888888">8.000000000000002</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">7</span>)
<span style="color: #888888">13.000000000000002</span>
<span style="color: #c65d09; font-weight: bold">&gt;&gt;&gt; </span>lelfib(<span style="color: #40a070">8</span>)
<span style="color: #888888">21.000000000000004</span>
</pre></div>
<p>The formula is correct as we'll see in a moment. Floats are not meant to be
mathematically precise, so the little precision problems are not a surprise.</p>

<h2 id="the-proof">The Proof<a class="headerlink" href="#the-proof" title="Link to this title">¶</a></h2><p>Now we have a nice formula, but we haven't actually proved that it works yet.
We just plugged in some values and we got nice results. It's time to prove that
this sequence...</p>

$$\begin{align}F_n = \frac{\varphi^n - (1-\varphi)^n}{\sqrt 5}, \quad n = 1,2,3,...\end{align}$$<p>...satisfies our original definition of the Fibonacci sequence:</p>

$$\begin{align}\left\{\begin{array}{lcl}      F_1 = 1 \\
    F_2 = 1 \\
    F_n = F_{n-1} + F_{n-2}, \quad n = 3,4,5,... \\
\end{array}\right.\end{align}$$<div class="floatingbox"><h2> Handy thing: $(a-b)^2=a^2-2ab+b^2$</h2><p>Proof using $(a-b)c=ac-bc$:</p>

$$\begin{align}& \ (a-b)^2 \\
=&\ (a-b)(a-b) \\
=&\ a(a-b)-b(a-b) \\
=&\ (aa-ab)-(ba-bb) \\
=&\ aa-ba-ab+bb \\
=&\ aa-(ab+ab)+bb \\
=&\ a^2-2ab+b^2\end{align}$$<p>In this case we need to plug in $a=1$ and $b=\varphi$.
</p>

</div><p>This will be a <i>proof</i>, so we won't use sympy.</p>

<p>The $F_1=1$ thing is quite straight-forward to prove:</p>

$$\begin{align}F_1 &= \frac{\varphi^1 - (1-\varphi)^1}{\sqrt 5} = \frac{\varphi - (1-\varphi)}{\sqrt 5} \\
&= \frac{\varphi-1+\varphi}{\sqrt 5} = \frac{2\varphi - 1}{\sqrt 5} = \frac{\rcancel 2 \frac{1+\sqrt 5}{\rcancel 2} - 1}{\sqrt 5} \\
&= \frac{\rcancel{1}+\sqrt5\rcancel{-1}}{\sqrt5} = \frac{\sqrt5}{\sqrt5} = 1\end{align}$$<p>We need the handy thing at right for $F_2=1$.</p>

$$\begin{align}F_2 &= \frac{\varphi^2 - (1-\varphi)^2}{\sqrt 5} \\
&= \frac{\varphi^2-(1^2-2\cdot1\cdot\varphi+\varphi^2)}{\sqrt 5} \\
&= \frac{\rcancel{\varphi^2}-1+2\varphi\rcancel{-\varphi^2}}{\sqrt5} = \frac{2\varphi-1}{\sqrt5}\end{align}$$<p>We already figured out that this is 1 when proving that $F_1=1$.</p>

<p>If we can prove that $F_n + F_{n+1} = F_{n+2}$ for $n=1,2,3,...$, then we also
have $F_n = F_{n-1} + F_{n-2}$ for $n=3,4,5,...$ which is what we need next.
In the beginning of this page we solved $x^n+x^{n+1}=x^{n+2}$ and we got the
solutions $x=\varphi$, $x=1-\varphi$ and $x=0$, so we have these equations:</p>

$$\begin{align}& \varphi^n + \varphi^{n+1} = \varphi^{n+2} \\
& (1-\varphi)^n + (1-\varphi)^{n+1} = (1-\varphi)^{n+2}\end{align}$$<p>Now we're ready to go. I'll color everything $F_n$ related in blue and
everything $F_{n+1}$ related in green so you can see what happens to them.</p>

$$\begin{align}\blue{F_n} + \green{F_{n+1}}  &= \blue{\frac{\varphi^n - (1-\varphi)^n}{\sqrt 5}}                  + \green{\frac{\varphi^{n+1} - (1-\varphi)^{n+1}}{\sqrt 5}} \\
&= \frac{\blue{\varphi^n-(1-\varphi)^n}+\green{\varphi^{n+1}-(1-\varphi)^{n+1}}}{\sqrt 5} \\
&= \frac{\blue{\varphi^n}+\green{\varphi^{n+1}}-\blue{(1-\varphi)^n}-\green{(1-\varphi)^{n+1}}}{\sqrt 5} \\
&= \frac{\left(\blue{\varphi^n}+\green{\varphi^{n+1}}\right)-\left(\blue{(1-\varphi)^n}+\green{(1-\varphi)^{n+1}}\right)}{\sqrt 5} \\
&= \frac{\varphi^{n+2} - (1-\varphi)^{n+2}}{\sqrt 5} = F_{n+2}\end{align}$$</div>
</body>
</html>
