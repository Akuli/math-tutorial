<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="style.css">
<title>More Derivatives</title>

<script type="text/x-mathjax-config">
  // awesome, i have javascript inside html inside python
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="https://fonts.googleapis.com/css?family=Cabin|Quicksand" rel="stylesheet">
</head>
<body>
<div id="content">
<div id="sidebar"><div class="sidebarblock"><h3>Interesting for programmers</h3><ul><li><a href="infinity.html">Infinity</a></li><li><a href="numbertheory.html">Number Theory</a></li><li><a href="fib.html">Fibonacci Sequence</a></li><li><a href="derivatives.html">Derivatives</a></li><li><a href="geometry-and-trig.html">Geometry and Trig</a></li></ul></div><div class="sidebarblock"><h3>Kinda fun</h3><ul><li><a href="integrals.html">Integrals</a></li><li><a href="more-integrals.html">More Integrals</a></li></ul></div><div class="sidebarblock"><h3>Mathy</h3><ul><li><b>More Derivatives</b></li><li><a href="more-geometry-and-trig.html">More Geometry and Trig</a></li><li><a href="explog.html">Exponent Functions and Logarithms</a></li></ul></div><div class="sidebarblock"><h3>Mind-blowing</h3><ul><li><a href="taylor.html">Taylor Series</a></li><li><a href="eulerformula.html">Euler's Formula</a></li></ul></div><div class="sidebarblock"><h3>Other stuff</h3><ul><li><a href="basics.html">The Basics</a></li><li><a href="graphs.html">Graphs</a></li><li><a href="summary.html">Summary</a></li></ul><h3><a href="index.html">Back to front page</a></h3></div></div>
<h1 id="more-derivatives">More Derivatives<a class="headerlink" href="#more-derivatives" title="Link to this title">¶</a></h1><p>This chapter contains derivative stuff that most people probably find boring,
but you might like some of it. It assumes that you have read <a href="derivatives.html">the first
derivative chapter</a>.</p>

<h2 id="which-functions-have-derivatives">Which functions have derivatives?<a class="headerlink" href="#which-functions-have-derivatives" title="Link to this title">¶</a></h2><p>In the first derivative chapter I said that most functions you'll come across
have a derivative. Let's be a bit more specific. The derivative doesn't exist in
these cases:</p>

<p><ul><li></p>

<p>The function is not <i>continuous</i>; that is, the graph consists of multiple
lines. For example, this function is not continuous at $x=0$ and thus
$f'(0)$ is not defined:</p>

$$\begin{align}f(x) = \left\{\begin{matrix}      1 \text{ if } x \ge 0 \\
    0 \text{ if } x < 0 \\
\end{matrix}\right.\end{align}$$<p><img width="227" height="146" class="asymptote" src="asymptote/d7ef1a5b2b4155f3aa442109bcea2fbe.svg" /></p><p></li><li></p>

<p>The graph of the function has a spike in it. Derivatives describe
"growing speed" and it isn't clear how fast the values grow on top of a
spike. For example, the <a href="basics.html#absolute-value">absolute value</a>
$|x|$ has a derivative everywhere except at $x=0$.</p>

<p><img width="170" height="141" class="asymptote" src="asymptote/c30ea4d9566657343733b8c3f6d38d71.svg" /></p><p></li></ul></p>

<p>Of course, there are more precise definitions about continuity and "spikes",
but this should be enough to give you some kind of idea about the limitations.</p>

<h2 id="chain-rule">Chain Rule<a class="headerlink" href="#chain-rule" title="Link to this title">¶</a></h2><p>Let's say you want to find the derivative of $(2x)^2$. The derivative of $x^2$
is just $2x$, so isn't the derivative of $(2x)^2$ then $2(2x)=4x$?
<b>No, it's not!</b></p>

<p>When things are nested like this you need to multiply by the derivative of the
inner stuff.</p>

$$\begin{align}\frac{d}{dx}(\underbrace{2x}_{\substack{\text{inner} \\ \text{stuff}}})^2  = 2(2x)\cdot\underbrace{\frac{d}{dx}(2x)}_{\substack{\text{derivative of} \\ \text{inner stuff}}}  = 4x\cdot2=8x\end{align}$$<p>If the inner stuff is just $x$, then its derivative is $1$ and multiplying by
it does nothing.</p>

<p>This inner stuff derivative thing is known as the chain rule, and it looks like
this in a mathy $f$ and $g$ form:</p>

$$\begin{align}\frac{d}{dx}f(g(x)) = f'(g(x))g'(x)\end{align}$$<p>There's a proof <a href="#frac-d-dx-f-g-x-f-g-x-g-x">below</a>.</p>

<h2 id="derivative-rules">Derivative Rules<a class="headerlink" href="#derivative-rules" title="Link to this title">¶</a></h2><p>Libraries like sympy are sure handy for finding derivatives, but we can also
find the derivative of pretty much anything by hand. In <a href="derivatives.html">the first derivative
chapter</a> we learned to find the derivatives of any constant,
$x$ and $x^2$.</p>

<p>We also used a bunch of rules that we didn't prove, and there was a link to
even more magic rules on the summary page. This page contains some proofs that
hopefully make the rules feel less magic. The proofs are ordered so that they
don't use anything that has not been proved before them.</p>

<p>Here $c$ can be any constant, and $f$ and $g$ can be any functions that have
derivatives $f'(x)=\frac{d}{dx}f(x)$ and $g'(x)=\frac{d}{dx}g(x)$.</p>

<h3 id="frac-d-dx-c-cdot-f-x-c-cdot-frac-d-dx-f-x">$\frac{d}{dx}(c \cdot f(x)) = c \cdot \frac{d}{dx}(f(x))$<a class="headerlink" href="#frac-d-dx-c-cdot-f-x-c-cdot-frac-d-dx-f-x" title="Link to this title">¶</a></h3><div class="indent"><p>Let's plug in $c \cdot f(x)$ to the definition of derivative.</p>

$$\begin{align}\frac{d}{dx}(c \cdot f(x))  &= \lim_{h\to0} \frac{c\cdot f(x+h)-c\cdot f(x)}{h} \\
&= \lim_{h\to0} \frac{c\cdot\bigl(f(x+h)-f(x)\bigr)}{h} \\
&= \lim_{h\to0} \left(c\cdot\frac{f(x+h)-f(x)}{h}\right) \\
&= c\cdot\lim_{h\to0} \frac{f(x+h)-f(x)}{h} \\
&= c\cdot f'(x)\end{align}$$<p>Here's a nice consequence of this rule:</p>

$$\begin{align}\frac{d}{dx}(-f(x))  &= \frac{d}{dx}((-1)f(x)) \\
&= (-1)f'(x) \\
&= -f'(x)\end{align}$$</div><h3 id="text-a-bunch-of-stuff-added-and-substracted">$\text{A bunch of stuff added and substracted}$<a class="headerlink" href="#text-a-bunch-of-stuff-added-and-substracted" title="Link to this title">¶</a></h3><div class="indent"><p>We did this in the previous chapter:</p>

$$\begin{align}\frac{d}{dx} (6x^2+7x-123) = \frac{d}{dx}(6x^2) + \frac{d}{dx}(7x) - \frac{d}{dx}(123)\end{align}$$<p>If these things work, then the stuff above is correct:</p>

<ul><li>$\frac{d}{dx}(f(x)+g(x))=f'(x)+g'(x)$</li><li>$\frac{d}{dx}(f(x)-g(x))=f'(x)-g'(x)$
</li></ul><p>Let's start by proving the $+$ thing with the definition of derivative.
It's kind of messy, but it works.</p>

$$\begin{align}\frac{d}{dx}(f(x)+g(x))  &= \lim_{h\to0} \frac{(f(x+h)+g(x+h))-(f(x)+g(x))}{h} \\
&= \lim_{h\to0} \frac{f(x+h)+g(x+h)-f(x)-g(x)}{h} \\
&= \lim_{h\to0} \frac{f(x+h)-f(x)+g(x+h)-g(x)}{h} \\
&= \lim_{h\to0} \frac{\bigl(f(x+h)-f(x)\bigr)+\bigl(g(x+h)-g(x)\bigr)}{h} \\
&= \lim_{h\to0} \left(\frac{f(x+h)-f(x)}{h}+\frac{g(x+h)-g(x)}{h}\right) \\
&= \left(\lim_{h\to0}\frac{f(x+h)-f(x)}{h}\right)+\left(\lim_{h\to0}\frac{g(x+h)-g(x)}{h}\right) \\
&= f'(x) + g'(x)\end{align}$$<p>We can prove the minus thing using stuff that we have proved earlier:</p>

$$\begin{align}\frac{d}{dx}(f(x)-g(x))  &= \frac{d}{dx}\bigl(f(x)+(-g(x))\bigr) \\
&= \frac{d}{dx}f(x)+\frac{d}{dx}(-g(x)) \\
&= f'(x)+(-g'(x)) \\
&= f'(x)-g'(x)\end{align}$$</div><h3 id="frac-d-dx-f-g-x-f-g-x-g-x">$\frac{d}{dx} f(g(x)) = f'(g(x))g'(x)$<a class="headerlink" href="#frac-d-dx-f-g-x-f-g-x-g-x" title="Link to this title">¶</a></h3><div class="indent"><p>Let's first assume that $g(x+h) \ne g(x)$ with a small $h$;
that is, $g(x+h)-g(x) \ne 0$ in a $h \to 0$ limit. We'll do
the $g(x+h)=g(x)$ case separately.</p>

$$\begin{align}\frac{d}{dx} f(g(x))  &= \lim_{h\to0} \frac{f(g(x+h))-f(g(x))}{h} \\
&= \lim_{h\to0} \left(\frac{f(g(x+h))-f(g(x))}{g(x+h)-g(x)} \cdot                        \frac{g(x+h)-g(x)}{h} \right) \\
&= \left(\lim_{h\to0} \frac{f(g(x+h))-f(g(x))}{g(x+h)-g(x)} \right)     \left(\lim_{h\to0} \frac{g(x+h)-g(x)}{h} \right) \\
&= \left(\lim_{h\to0} \frac{f(g(x+h))-f(g(x))}{g(x+h)-g(x)} \right) g'(x)\end{align}$$<img width="229" height="283" class="asymptote" src="asymptote/585c8328017deaacb5dfd811d8976d4a.svg" style="float:right;" /><p>Next we'll define another variable $\Delta g = g(x+h)-g(x)$. We assumed that
the derivative of $g$ exists, so <a href="#which-functions-have-derivatives">$g$ must be
continuous</a>. So if $h \to 0$, then
$g(x+h) \to g(x)$ and $\bigl(g(x+h)-g(x)\bigr) \to 0$.</p>

$$\begin{align}\Delta g &= g(x+h)-g(x) \\
g(x) + \Delta g &= g(x+h)\end{align}$$$$\begin{align}\frac{d}{dx} f(g(x))  &= \left(\lim_{h\to0} \frac{f(g(x+h))-f(g(x))}{g(x+h)-g(x)} \right) g'(x) \\
&= \left(\lim_{\Delta g \to 0} \frac{f(g(x) + \Delta g)-f(g(x))}{\Delta g}\right)g'(x) \\
&= f'(g(x))g'(x)\end{align}$$<p>If $g(x+h)=g(x)$ when $h \to 0$, then we can just replace $g(x+h)$ with
$g(x)$ everywhere:</p>

$$\begin{align}\frac{d}{dx} f(g(x)) &= \lim_{h\to0} \frac{f(g(x+h))-f(g(x))}{h} \\
&= \lim_{h\to0} \frac{f(g(x))-f(g(x))}{h} \\
&= \lim_{h\to0} \frac 0 h \\
&= 0\end{align}$$$$\begin{align}f(g(x))g'(x) &= f(g(x)) \left( \lim_{h \to 0} \frac{g(x+h)-g(x)}{h} \right) \\
&= f(g(x)) \left( \lim_{h \to 0} \frac{g(x)-g(x)}{h} \right) \\
&= f(g(x)) \left( \lim_{h \to 0} \frac{0}{h} \right) \\
&= f(g(x)) \cdot 0 \\
&= 0\end{align}$$</div><h3 id="frac-d-dx-f-x-g-x-f-x-g-x-f-x-g-x">$\frac{d}{dx} (f(x)g(x)) = f'(x)g(x) + f(x)g'(x)$<a class="headerlink" href="#frac-d-dx-f-x-g-x-f-x-g-x-f-x-g-x" title="Link to this title">¶</a></h3><div class="indent"><p>This is messy, but it works.</p>

$$\begin{align}&  \frac{d}{dx} (f(x)g(x)) \\
=& \lim_{h\to0} \frac{f(x+h)g(x+h)-f(x)g(x)}{h} \\
=& \lim_{h\to0} \frac{\overbrace{f(x)g(x+h)-f(x)g(x+h)}^\text{this is 0}                      +f(x+h)g(x+h)-f(x)g(x)}{h} \\
=& \lim_{h\to0} \frac{f(x+h)g(x+h)-f(x)g(x+h)+f(x)g(x+h)-f(x)g(x)}{h} \\
=& \lim_{h\to0} \frac{\bigl(f(x+h)-f(x)\bigr)g(x+h)+f(x)\bigl(g(x+h)-g(x)\bigr)}{h} \\
=& \lim_{h\to0} \left(      \frac{\bigl(f(x+h)-f(x)\bigr)g(x+h)}{h}      + \frac{f(x)\bigl(g(x+h)-g(x)\bigr)}{h} \right) \\
=& \lim_{h\to0} \left(   \frac{f(x+h)-f(x)}{h}g(x+h) + f(x)\frac{g(x+h)-g(x)}{h}  \right) \\
=& \lim_{h\to0} \left(\frac{f(x+h)-f(x)}{h}g(x+h)\right)      + \lim_{h\to0}\left(f(x)\frac{g(x+h)-g(x)}{h}\right) \\
=& \left(\lim_{h\to0}\frac{f(x+h)-f(x)}{h}\right)  \left(\lim_{h\to0}g(x+h)\right)  + f(x) \left(\lim_{h\to0}\frac{g(x+h)-g(x)}{h}\right) \\
=& f'(x)g(x) + f(x)g'(x)\end{align}$$</div><h3 id="frac-d-dx-x-c-c-x-c-1">$\frac{d}{dx} x^c = c\ x^{c-1}$<a class="headerlink" href="#frac-d-dx-x-c-c-x-c-1" title="Link to this title">¶</a></h3><div class="indent"><p>It's easy to prove that this works for an individual $c$ value. For example,
our very first derivative example shows that $\frac{d}{dx} x^2 = 2x$, and
$2x^{2-1}$ is also $2x$. Here I'll prove that this works with all positive
integers using a powerful technique known as <b>induction</b>.</p>

<p>Let's start by showing that this works with $c=1$:</p>

$$\begin{align}\frac{d}{dx} x^1 = \frac{d}{dx} x = 1 = 1x^0 = 1x^{1-1}\end{align}$$<p>Next we'll prove that <b>if</b> the rule works at $c=k$ <b>then</b> it also works
at $c=k+1$ where $k$ is a positive integer. Let's write things down just to
be clear:</p>

<p><b>We assume:</b> $\frac{d}{dx} x^k = k x^{k-1}$</p>

<p><b>We'll prove:</b> $\frac{d}{dx} x^{k+1} = (k+1)x^{(k+1)-1}$</p>

<p>Let's use the $\frac{d}{dx}(f(x)g(x))$ and $\frac{d}{dx} x$ rules we
proved above and the assumption.</p>

$$\begin{align}\frac{d}{dx} x^{k+1} &= \frac{d}{dx} (x^k x^1) \\
&= \frac{d}{dx} (x \cdot x^k) \\
&= \left(\frac{d}{dx} x\right) \cdot x^k + x \cdot \left(\frac{d}{dx} x^k\right) \\
&= 1x^k + x \cdot k x^{k-1} \\
&= 1x^k + kx^1x^{k-1} \\
&= 1x^k + kx^k \\
&= (1+k)x^k \\
&= (k+1)x^{(k+1)-1}\end{align}$$<p>We proved that if $\frac{d}{dx} x^k = k x^{k-1}$ then
$\frac{d}{dx} x^{k+1} = (k+1)x^{(k+1)-1}$. Now we know that the rule works
when $c=1$, and then if we plug in $k=1$ we know it works when $c=2$, and so
on.</p>

<p><img width="425" height="89" class="asymptote" src="asymptote/12e3ecb6364c0c22cc5c810bda348f4e.svg" /></p><p>Note that we only proved that the rule works when $c$ is a positive
integer, but it also works when $c$ is e.g. $\frac{1}{2}$. This tutorial
also contains <a href="explog.html#example-derivative-of-x-c">another proof</a> that
doesn't have this restriction.
</p>

</div><div class="floatingbox"><h2> Handy thing: $(a-b)(a+b)=a^2-b^2$</h2><p>Proof:</p>

$$\begin{align}& \ (a-b)(a+b) \\
=&\ (a-b)a+(a-b)b \\
=&\ aa-ba+ab-bb \\
=&\ a^2 - b^2\end{align}$$<p>In this case we need to plug in $a=\sqrt{x+h}$ and $b=\sqrt x$.
</p>

</div><h3 id="frac-d-dx-sqrt-x-displaystyle-frac-1-2-sqrt-x">$\frac{d}{dx} \sqrt x = \displaystyle \frac{1}{2\ \sqrt x}$<a class="headerlink" href="#frac-d-dx-sqrt-x-displaystyle-frac-1-2-sqrt-x" title="Link to this title">¶</a></h3><div class="indent"><p>We could prove this with the $\frac{d}{dx} x^c$ rule because
$\sqrt x = x^\frac{1}{2}$, but we proved the $x^c$ rule only for positive
integers. Let's survive without it.</p>

$$\begin{align}\frac{d}{dx} \sqrt x &= \lim_{h\to0} \frac{\sqrt{x+h}-\sqrt x}{h} \\
&= \lim_{h\to0} \frac{\bigl(\sqrt{x+h}-\sqrt x\ \bigr)                        \bigl(\sqrt{x+h}+\sqrt x\ \bigr)}{                          h \cdot \bigl(\sqrt{x+h} + \sqrt x\ \bigr)} \\
&= \lim_{h\to0} \frac{\bigl(\sqrt{x+h}\ \bigr)^2-\bigl(\sqrt x\ \bigr)^2}{                      h \cdot \bigl(\sqrt{x+h} + \sqrt x\ \bigr)} \\
&= \lim_{h\to0} \frac{(x+h)-x}{h\cdot\bigl(\sqrt{x+h} + \sqrt x\ \bigr)} \\
&= \lim_{h\to0} \frac{h}{h\cdot\bigl(\sqrt{x+h} + \sqrt x\ \bigr)} \\
&= \lim_{h\to0} \frac{1}{\sqrt{x+h} + \sqrt x} \\
&= \frac{1}{\sqrt x + \sqrt x} \\
&= \frac{1}{2\ \sqrt x}\end{align}$$<p>You're probably wondering how the heck I knew that multiplying top and
bottom by $\sqrt{x+h}+\sqrt x$ would result in something useful, but this
is actually a commonly used trick with square roots and limits.
</p>

</div><h3 id="frac-d-dx-1-x-displaystyle-frac-1-x-2">$\frac{d}{dx}(1/x) = \displaystyle \frac{-1}{x^2}$<a class="headerlink" href="#frac-d-dx-1-x-displaystyle-frac-1-x-2" title="Link to this title">¶</a></h3><div class="indent"><p>We could use the $\frac{d}{dx} x^c$ rule again because $1/x$ is actually
$x^{-1}$, but as before, we haven't proved that it works at $c=-1$ so we'll
do this without it.</p>

$$\begin{align}\frac{d}{dx} (1/x) &= \lim_{h\to0} \frac{\frac{1}{x+h} - \frac 1 x}{h} \\
&= \lim_{h\to0} \frac{\frac{x}{(x+h)x} - \frac{x+h}{(x+h)x}}{h} \\
&= \lim_{h\to0} \frac{\left(\frac{x-(x+h)}{(x+h)x}\right)}{h} \\
&= \lim_{h\to0} \frac{x-(x+h)}{(x+h)xh} \\
&= \lim_{h\to0} \frac{x-x-h}{(x+h)xh} \\
&= \lim_{h\to0} \frac{-h}{(x+h)xh} \\
&= \lim_{h\to0} \frac{-1}{(x+h)x} \\
&= \frac{-1}{x^2}\end{align}$$</div><h3 id="frac-d-dx-displaystyle-left-frac-f-x-g-x-right-frac-f-x-g-x-f-x-g-x-g-x-2">$\frac{d}{dx} \displaystyle \left(\frac{f(x)}{g(x)}\right) = \frac{f'(x)g(x) - f(x)g'(x)}{(g(x))^2}$<a class="headerlink" href="#frac-d-dx-displaystyle-left-frac-f-x-g-x-right-frac-f-x-g-x-f-x-g-x-g-x-2" title="Link to this title">¶</a></h3><div class="indent"><p>We need these rules that are proved above:</p>

<ul><li>$\frac{d}{dx} (f(x)g(x)) = f'(x)g(x) + f(x)g'(x)$</li><li>$\frac{d}{dx} (1/x) = \displaystyle \frac{-1}{x^2}$</li><li>$\frac{d}{dx} f(\underbrace{g(x)}_{\substack{\text{inner} \\ \text{stuff}}}) = f'(g(x))g'(x)$
</li></ul><p>Now this is quite straight-forward.</p>

$$\begin{align}\frac{d}{dx} \left( \frac{f(x)}{g(x)} \right)  &= \frac{d}{dx} \left( f(x) \frac{1}{g(x)} \right) \\
&= f'(x)\frac{1}{g(x)} + f(x)\biggl(\frac{d}{dx}\Bigl(\frac{1}{\underbrace{g(x)}_{\substack{\text{inner} \\ \text{stuff}}}}\Bigr)\biggr) \\
&= \frac{f'(x)}{g(x)} + f(x) \left( \frac{-1}{(g(x))^2} g'(x) \right) \\
&= \frac{f'(x)g(x)}{g(x)g(x)} - \frac{f(x)g'(x)}{(g(x))^2} \\
&= \frac{f'(x)g(x) - f(x)g'(x)}{(g(x))^2}\end{align}$$</div></div>
</body>
</html>
